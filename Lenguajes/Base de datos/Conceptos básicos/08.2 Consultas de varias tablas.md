# FROM con varias tablas
![[Pasted image 20250323182055.png]]
- Listar los pedidos mostrando el ID_Pedido, el Nombre del cliente y el nombre del Empleado.
# Composición externa, interna y completa (JOINs)
- Se utilizan para combinar filas de dos o más tablas.
- Usan un campo común entre ellas y devuelven datos de las diferentes tablas.
## INNER JOIN:
- También conocida como **composición interna**.
- **Devuelve todas las filas** si por lo menos hay una coincidencia en ambas tablas.
 <font style="color:green">Ejemplo con 2 tablas</font>:
 ```sql
SELECT categorias.ID_Categoria,
categorias.Nombre AS NombreCategoria,
productos.ID_Producto,
productos.Nombre AS NombreProductos,
productos.PrecioUnitario
FROM productos
INNER JOIN categorias ON productos.ID_Categoria=categorias.ID_Categoria;
```
![[Pasted image 20250324185517.png]]
 <font style="color:green">Ejemplo con 3 tablas</font>:
 ```sql
SELECT pedidos.ID_Pedido,
pedidos.FechaPedido,
clientes.Contacto AS Contacto_Cliente,
empleados.Nombre AS Nombre_Empleado,
empleados.Apellido AS Apellido_Empleado
FROM pedidos, clientes, empleados
WHERE pedidos.ID_Cliente=clientes.ID_Cliente
AND pedidos.ID_Empleado=empleados.ID_Empleado;
```
![[Pasted image 20250324191646.png]]
<font style="color:green">Ejemplo en el que queremos visualizar el mínimo precio de los productos, mostrar el nombre de la categoría y el
producto</font>
 ```sql
SELECT productos.PrecioUnitario AS Precio_Minimo_Producto,
categorias.Nombre AS Nombre_Categoria,
productos.Nombre AS Nombre_Producto
FROM productos
INNER JOIN categorias
ON productos.ID_Categoria=categorias.ID_Categoria
WHERE productos.PrecioUnitario = (SELECT MIN(PrecioUnitario) FROM productos);
```
![[Pasted image 20250330134058.png]]
<font style="color:green">Ejemplo en el que seleccionamos las categorias que tengan más de 5 productos. Mostrar el nombre de la categoría y el número de productos:</font>
 ```sql
SELECT categorias.Nombre AS Nombre_Categoria,
COUNT(productos.ID_Producto) AS Numero_Productos
FROM categorias
INNER JOIN productos ON categorias.ID_Categoria=productos.ID_Categoria
GROUP BY categorias.ID_Categoria, categorias.Nombre
HAVING COUNT(productos.ID_Producto) > 5;
```
## LEFT JOIN:
- También conocida como **composición externa por la izquierda**.
- **Muestra todas las filas de la tabla izquierda y las que coincidan de la tabla derecha.**
<font style="color:green">Ejemplo en el mostramos que el nombre de todos los empleados y el número de órdenes que han hecho:</font>
 ```sql
SELECT empleados.Nombre AS Nombre_Empleado,
COUNT(pedidos.ID_Pedido) as Numero_Pedidos
FROM empleados
LEFT JOIN pedidos ON empleados.ID_Empleado=pedidos.ID_Empleado
GROUP BY empleados.ID_Empleado;
```
Con <font style="color:salmon; font-weight:bold">LEFT JOIN</font> también obtenemos los empleados que cuentan con 0 pedidos, si se utilizara <font style="color:salmon; font-weight:bold">INNER JOIN</font>, se omitirían las filas que contasen 0 pedidos.
![[Pasted image 20250330134823.png]]

## RIGHT JOIN:
- También conocida como **composición externa por la derecha**.
- **Muestra todas las filas de la tabla izquierda y las que concidan de la tabla izquierda**.
## FULL OUTER JOIN:
- También conocida como **composición completa**.
- **Composición no implementada en MySQL**.
- Para emular se comportamiento en necesario utilizar el operador <font style="color:salmon; font-weight:bold">UNION</font>.
- El resultado es la obtención de dos consultas, más las filas de ambas tablas que no se han podido combinar.