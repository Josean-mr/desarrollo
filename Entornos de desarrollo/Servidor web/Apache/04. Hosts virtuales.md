Se trata de una técnica que permite a un solo servidor físico alojar múltiples sitios web o servicios de manera idependiente.
# Creación de host virtuales
## 1. Creación de fichero de configuración
Se debe crear el fichero de configuración para el VirtualHost, este debe llevar exensión .conf.
**/etc/apache2/sites-avaliable/prueba.conf**
```bash
<VirtualHost *:80> # con * resolvermos aunque se cambie la IP
	# Datos del dominio y contacto
	ServerName prueba.info
	ServerAlias www.prueba.info # para resolver en caso de escribir www
	ServerAdmin webmaster@prueba.info
	
	# Ruta en la que se encuentran los archivos en el servidor
	DocumentRoot /var/www/prueba/html
	ScriptAlias /cgi-bin/ /var/www/prueba/cgi-bin
</VirtualHost>
```
## 2. Activar el dominio en el servidor
Utilizar el comando:
```bash
sudo a2ensite prueba.conf
```
Esto agregará en enlace a **/etc/apache2/sites-enabled**
## 3. Crear regla DNS
Para que el navegador resuelva la dirección "prueba.info" se ha de crear la regla DNS añadiendo la línea correspondiente el el fichero hosts:
```bash
sudo nano /etc/hosts
```
Se agrega la ip del servidor (consultar con comando ip a) y el nombre utilizado en la línea **ServerName** el documento **"/etc/apache2/sites-avaliable/prueba.conf**
```bash
192.168.1.14       prueba.info
```
## 4. Asignar IP estática en el servidor (recomendable)
Si el servidor cambia de dirección IP. Esto puedo ocurrir si el servidor tiene la asignación de IP mediante DHCP.
Los pasos a seguir para establecer la IP en estática dependen de si se está utilizando un sistema operativo con entorno gráfico o sin entorno gráfico.
## Servidor sin entorno gráfico
Para que el servidor no cambie de IP dinámicamente se debe modificar el fichero "**/etc/network/interfaces**"
1. Identificar el nombre de la interfaz que se está utilizando:
```bash
ip link
```
La interfaz que nos interesa suele tener un nombre similar a "**enp0s3**".
2. Modificar el fichero "**/etc/network/interfaces**":
```bash
# Configuración de mi interfaz de red
auto enp0s3
iface enp0s3 inet static
    address 192.168.1.14            # Dirección de red que queremos
    netmask 255.255.255.0           # Mascara de red de 24 bits 
    gateway 192.168.1.1             # Puerta de enlace
    dns-nameservers 8.8.8.8 8.8.4.4 # Servidores DNS
```
3. Reiniciar el servicio de red:
```bash
sudo systemctl restart networking
```
## Servidor con entorno gráfico
Desde la propia máquina se puede hacer a través de la interfaz gráfica. Pero si estamos conectados a través de SSH podemos seguir los siguientes pasos:
1. Ejecutar un asistente. Escribir en la terminal:
```bash
sudo nmtui
```
2. Seleccionar la conexión:
3. Modificar la sección "IPv4 CONFIGURATION":
```bash
IPv4 CONFIGURATION <Manual>
	Addresses      192.168.1.14
	Gateway        192.168.1.1
	DNS servers    8.8.8.8
	               8.8.4.4
```
4. Reiniciar la conexión:
```bash
sudo nmcli connection down "Wired connection 1" # Nombre de la conexión
sudo nmcli connection up "Wired connection 1"
```
5. Comprobar conexión:
Mostrar estado de las conexiones:
```bash
nmcli device staus
```
Mostrar los ajustes del perfil de conexión
```bash
nmcli connection show "Wired connection 1" # "Wired connection 1" es el nombre del perfil

```